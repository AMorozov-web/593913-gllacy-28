document.addEventListener("DOMContentLoaded",function(){if(document.querySelector(".promo-slider")){let a=document.querySelectorAll(".buttons-list__button");for(let b of a)b.onclick=function(){let b=Array.prototype.indexOf.call(a,this),c=document.querySelector(".index-page"),d=document.querySelectorAll(".slider-list__item"),e=document.querySelectorAll(".slider-item__title"),f=document.querySelectorAll(".slider-item__link"),g=d[b],h=e[b],i=f[b];c.style.backgroundColor="var(--bg-slide"+(b+1)+")",c.style.backgroundImage="url(img/promo_slider_"+(b+1)+".png)";for(let a of d)a.classList.contains("visually-hidden")||a.classList.add("visually-hidden");g.classList.remove("visually-hidden");for(let a of e)a.classList.contains("current-slide")&&a.classList.remove("current-slide");h.classList.add("current-slide");for(let a of f)a.classList.contains("current-slide")&&a.classList.remove("current-slide");i.classList.add("current-slide");for(let b of a)b.classList.remove("active");this.classList.add("active")}}if(document.querySelector(".contacts__feedback")){function a(){e.classList.contains("visually-hidden")&&e.classList.remove("visually-hidden"),f.classList.add("popup"),g.focus(),g.value="",h.value="",i.value=""}function b(){e.classList.add("visually-hidden"),f.classList.remove("popup"),g.classList.remove("input-error-animate"),h.classList.remove("input-error-animate"),i.classList.remove("input-error-animate")}let c=document.querySelector(".contacts__button"),d=document.querySelector(".feedback__button-close"),e=document.querySelector(".overlay"),f=document.querySelector(".contacts__feedback"),g=document.getElementById("form__user-name-field"),h=document.getElementById("form__user-email-field"),i=document.getElementById("form__user-comment-field"),j=document.querySelector(".form__button"),k=!1;c.addEventListener("click",function(b){b.preventDefault(),a()}),j.addEventListener("click",function(a){g.value?h.value?!i.value&&(a.preventDefault(),i.classList.remove("input-error-animate"),e.offsetWidth=e.offsetWidth,i.classList.add("input-error-animate"),i.classList.add("input-error-backlight"),setTimeout(()=>{i.classList.remove("input-error-backlight")},700)):(a.preventDefault(),h.classList.remove("input-error-animate"),e.offsetWidth=e.offsetWidth,h.classList.add("input-error-animate"),h.classList.add("input-error-backlight"),setTimeout(()=>{h.classList.remove("input-error-backlight")},700)):(a.preventDefault(),g.classList.remove("input-error-animate"),e.offsetWidth=e.offsetWidth,g.classList.add("input-error-animate"),g.classList.add("input-error-backlight"),setTimeout(()=>{g.classList.remove("input-error-backlight")},700))}),d.addEventListener("click",function(){b()}),f.addEventListener("mouseleave",function(){k=!1}),f.addEventListener("mouseenter",function(){k=!0}),e.addEventListener("click",function(){e.classList.contains("visually-hidden")||!1!=k||b()}),window.addEventListener("keydown",function(a){27!==a.keyCode||e.classList.contains("visually-hidden")||(a.preventDefault(),b())})}if(document.querySelector(".subscribe")){let a=document.getElementById("subscribe-field"),b=document.querySelector(".subscribe__button");b.addEventListener("click",function(b){a.value||(b.preventDefault(),a.classList.remove("input-error-animate"),a.offsetWidth=a.offsetWidth,a.classList.add("input-error-animate"),a.classList.add("input-error-backlight"),setTimeout(()=>{a.classList.remove("input-error-backlight")},700))})}if(document.querySelector(".login-menu__login-form")){let a=document.querySelector(".login-menu__login-link"),b=document.querySelector(".login-menu__item"),c=document.getElementById("user-login-field"),d=document.getElementById("user-password-field"),e=document.querySelector(".login-form__button"),f="";a.onclick=function(a){a.preventDefault()};try{f=localStorage.getItem("login")}catch(a){}b.addEventListener("mouseenter",function(){c.value="",d.value="",f?(c.value=f,d.focus()):c.focus()}),e.addEventListener("click",function(a){c.value?!d.value&&(a.preventDefault(),d.classList.remove("input-error-animate"),b.offsetWidth=b.offsetWidth,d.classList.add("input-error-animate"),d.classList.add("input-error-backlight"),setTimeout(()=>{d.classList.remove("input-error-backlight")},700)):(a.preventDefault(),c.classList.remove("input-error-animate"),b.offsetWidth=b.offsetWidth,c.classList.add("input-error-animate"),c.classList.add("input-error-backlight"),setTimeout(()=>{c.classList.remove("input-error-backlight")},700))})}if(document.querySelector(".search-form__search-field")){let a=document.querySelector(".search-form__item"),b=document.getElementById("search-field");a.addEventListener("mouseenter",function(){b.focus()})}});